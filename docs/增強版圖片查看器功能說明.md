# 增強版圖片查看器功能說明

## 功能概述

已為 getting-started 頁面的登錄圖片實現了功能豐富的交互式圖片查看器，提供專業級的圖片瀏覽體驗。

## 🎯 實現的功能

### 1. **點擊放大功能**
- **觸發方式**：點擊圖片或按 Enter/Space 鍵
- **模態彈窗**：全屏覆蓋，背景半透明
- **動畫效果**：流暢的縮放和淡入動畫
- **焦點管理**：自動聚焦到彈窗，支援鍵盤導航

### 2. **圖片操作功能**

#### **縮放控制**
- **放大**：+ 鍵或點擊放大按鈕
- **縮小**：- 鍵或點擊縮小按鈕
- **縮放範圍**：50% - 300%
- **縮放指示器**：實時顯示當前縮放比例

#### **全屏查看**
- **觸發**：F 鍵或點擊全屏按鈕
- **退出**：再次按 F 鍵或點擊退出全屏按鈕
- **瀏覽器支援**：使用標準 Fullscreen API

#### **下載圖片**
- **觸發**：D 鍵或點擊下載按鈕
- **文件名**：自動生成基於 alt 文字的文件名
- **格式保持**：保持原始圖片格式

#### **關閉彈窗**
- **ESC 鍵**：快速關閉
- **點擊背景**：點擊圖片外區域關閉
- **關閉按鈕**：點擊 X 按鈕關閉

### 3. **視覺反饋**

#### **懸停效果**
- **放大鏡圖標**：懸停時顯示放大鏡提示
- **輕微縮放**：圖片輕微放大 (1.02x)
- **覆蓋層**：半透明黑色覆蓋層
- **游標變化**：指針變為可點擊狀態

#### **按鈕動畫**
- **懸停放大**：按鈕懸停時放大 1.1x
- **點擊縮放**：點擊時縮小 0.9x
- **禁用狀態**：達到縮放限制時按鈕禁用

### 4. **響應式設計**

#### **桌面端**
- **完整功能**：所有功能完全可用
- **鍵盤快捷鍵**：完整的鍵盤操作支援
- **工具欄**：浮動工具欄，位於右上角

#### **移動端**
- **觸控優化**：適合觸控操作的按鈕尺寸
- **手勢支援**：雙擊放大，捏合縮放（瀏覽器原生）
- **響應式佈局**：工具欄自動調整位置

#### **平板端**
- **混合交互**：同時支援觸控和鍵盤
- **適中尺寸**：按鈕和間距適合平板使用

### 5. **無障礙支援**

#### **鍵盤導航**
- **Tab 導航**：可通過 Tab 鍵聚焦到圖片
- **Enter/Space**：激活圖片查看器
- **方向鍵**：在工具欄按鈕間導航
- **快捷鍵**：完整的鍵盤快捷鍵支援

#### **ARIA 標籤**
- **role="button"**：圖片標記為可點擊按鈕
- **aria-label**：詳細的操作說明
- **aria-modal="true"**：模態彈窗標記
- **tabindex**：適當的 Tab 順序

#### **螢幕閱讀器**
- **語義化標記**：使用語義化 HTML 元素
- **替代文字**：完整的圖片描述
- **狀態通知**：操作狀態的語音反饋

## 🎨 視覺設計

### **主圖片樣式**
```jsx
className="rounded-lg shadow-lg border border-gray-200 dark:border-gray-700"
```
- **圓角邊框**：現代化外觀
- **陰影效果**：立體感
- **深色模式**：自動適配主題

### **懸停覆蓋層**
- **背景**：`bg-black/20` 半透明黑色
- **放大鏡圖標**：白色背景圓形容器
- **動畫**：淡入淡出效果

### **模態彈窗**
- **背景**：`bg-black/80` 深色半透明
- **工具欄**：白色/深灰色圓形按鈕
- **指示器**：縮放比例和快捷鍵提示

## ⌨️ 鍵盤快捷鍵

| 按鍵 | 功能 | 說明 |
|------|------|------|
| **Enter/Space** | 打開圖片查看器 | 在主圖片上使用 |
| **ESC** | 關閉查看器 | 任何時候都可使用 |
| **+/=** | 放大圖片 | 增加 25% 縮放 |
| **-** | 縮小圖片 | 減少 25% 縮放 |
| **F** | 切換全屏 | 進入/退出全屏模式 |
| **D** | 下載圖片 | 下載當前圖片 |

## 🔧 技術實現

### **核心技術**
- **React Hooks**：useState, useRef, useEffect
- **Framer Motion**：動畫和過渡效果
- **Heroicons**：一致的圖標設計
- **Tailwind CSS**：響應式樣式

### **狀態管理**
```typescript
const [isModalOpen, setIsModalOpen] = useState(false)
const [scale, setScale] = useState(1)
const [isFullscreen, setIsFullscreen] = useState(false)
const [isHovered, setIsHovered] = useState(false)
```

### **事件處理**
- **鍵盤事件**：全局鍵盤監聽
- **全屏 API**：標準 Fullscreen API
- **下載功能**：動態創建下載連結
- **焦點管理**：模態彈窗焦點鎖定

## 📱 使用方式

### **基本使用**
```jsx
<EnhancedImage
  src="pages/getting-started/login-page.png"
  alt="AMIGO 自動販賣機後台系統登錄頁面"
  width={800}
  height={450}
  className="rounded-lg shadow-lg border border-gray-200 dark:border-gray-700"
  caption="點擊圖片可放大查看登錄頁面詳細信息"
/>
```

### **自定義配置**
```jsx
<EnhancedImage
  src="path/to/image.png"
  alt="圖片描述"
  enableZoom={true}        // 啟用縮放功能
  enableDownload={true}    // 啟用下載功能
  enableFullscreen={true}  // 啟用全屏功能
  caption="圖片說明文字"
/>
```

## 🚀 性能優化

### **懶加載**
- 使用原有 Image 組件的懶加載功能
- 模態彈窗中的圖片按需加載

### **動畫優化**
- 使用 GPU 加速的 transform 屬性
- 避免觸發重排和重繪
- 合理的動畫時長和緩動函數

### **記憶體管理**
- 適當的事件監聽器清理
- 組件卸載時的狀態重置
- 避免記憶體洩漏

## 🔍 瀏覽器兼容性

### **完全支援**
- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

### **部分支援**
- **全屏 API**：較舊瀏覽器可能不支援
- **下載功能**：所有現代瀏覽器支援
- **鍵盤事件**：通用支援

### **降級策略**
- 全屏功能不可用時隱藏按鈕
- 下載功能失敗時顯示提示
- 動畫不支援時使用靜態效果

## 📋 測試建議

### **功能測試**
1. **基本操作**：點擊打開、ESC 關閉
2. **縮放功能**：放大、縮小、限制檢查
3. **全屏模式**：進入、退出全屏
4. **下載功能**：文件下載和命名
5. **鍵盤導航**：所有快捷鍵測試

### **設備測試**
- **桌面**：完整功能測試
- **平板**：觸控和鍵盤混合測試
- **手機**：觸控操作測試
- **螢幕閱讀器**：無障礙功能測試

## ✅ 完成狀態

- ✅ 點擊放大功能
- ✅ 縮放控制（放大/縮小）
- ✅ 全屏查看
- ✅ 下載圖片
- ✅ 多種關閉方式
- ✅ 視覺反饋和動畫
- ✅ 響應式設計
- ✅ 無障礙支援
- ✅ 鍵盤導航
- ✅ 已應用到 getting-started 頁面

增強版圖片查看器已完全實現，為用戶提供專業級的圖片瀏覽體驗！
