# AMIGO 幫助中心項目結構優化建議

## 當前結構問題分析

### 已識別的問題

1. **Search.tsx 文件過大** (494行)
   - 超過 TypeScript 300行限制
   - 包含多個職責：搜索邏輯、UI 組件、狀態管理

2. **icons 目錄文件過多** (24個文件)
   - 超過每目錄8個文件的建議限制
   - 缺乏分類組織

3. **typography.ts 文件較大** (355行)
   - 雖然是配置文件，但仍建議優化

4. **項目名稱不一致**
   - 已在前面階段修復

## 優化方案

### 1. Search.tsx 重構方案

#### 當前結構問題
```typescript
// src/components/Search.tsx (494行)
- useAutocomplete hook
- SearchDialog component  
- SearchInput component
- SearchResults component
- Search component
- MobileSearch component
```

#### 建議重構結構
```
src/components/search/
├── index.ts                 # 統一導出
├── useAutocomplete.ts       # 搜索邏輯 hook (~80行)
├── SearchDialog.tsx         # 搜索對話框 (~120行)
├── SearchInput.tsx          # 搜索輸入框 (~60行)
├── SearchResults.tsx        # 搜索結果 (~80行)
├── Search.tsx              # 桌面搜索組件 (~40行)
├── MobileSearch.tsx        # 移動搜索組件 (~40行)
└── types.ts                # 類型定義 (~30行)
```

#### 重構優點
- 每個文件職責單一，符合行數限制
- 便於測試和維護
- 提高代碼可讀性
- 支援按需導入

### 2. Icons 目錄重組方案

#### 當前結構問題
```
src/components/icons/ (24個文件)
- 所有圖標文件平鋪在一個目錄
- 缺乏功能分類
- 難以快速定位所需圖標
```

#### 建議重組結構
```
src/components/icons/
├── index.ts                 # 統一導出所有圖標
├── ui/                      # UI 相關圖標 (8個)
│   ├── CheckIcon.tsx
│   ├── CloseIcon.tsx
│   ├── ChevronRightLeftIcon.tsx
│   ├── MagnifyingGlassIcon.tsx
│   ├── BellIcon.tsx
│   ├── CogIcon.tsx
│   ├── FaceSmileIcon.tsx
│   └── index.ts
├── navigation/              # 導航相關圖標 (6個)
│   ├── FolderIcon.tsx
│   ├── LinkIcon.tsx
│   ├── ListIcon.tsx
│   ├── MapPinIcon.tsx
│   ├── BookIcon.tsx
│   └── index.ts
├── content/                 # 內容相關圖標 (6個)
│   ├── DocumentIcon.tsx
│   ├── PaperClipIcon.tsx
│   ├── ClipboardIcon.tsx
│   ├── CopyIcon.tsx
│   ├── TagIcon.tsx
│   └── index.ts
└── business/               # 業務相關圖標 (4個)
    ├── CartIcon.tsx
    ├── PackageIcon.tsx
    ├── ShirtIcon.tsx
    └── index.ts
```

### 3. Typography.ts 優化方案

#### 建議拆分結構
```
src/styles/typography/
├── index.ts                 # 主配置文件 (~50行)
├── colors.ts               # 顏色配置 (~80行)
├── text.ts                 # 文字樣式 (~80行)
├── lists.ts                # 列表樣式 (~60行)
├── tables.ts               # 表格樣式 (~60行)
└── media.ts                # 媒體樣式 (~40行)
```

### 4. 新增目錄結構建議

#### 添加 AMIGO 特定目錄
```
src/
├── components/
│   ├── amigo/              # AMIGO 特定組件
│   │   ├── OperationSteps.tsx
│   │   ├── ScreenshotWithAnnotation.tsx
│   │   ├── FeatureCard.tsx
│   │   ├── TroubleshootingGuide.tsx
│   │   └── index.ts
│   └── ...
├── content/                # 內容相關工具
│   ├── manual/            # 操作手冊內容
│   ├── templates/         # 內容模板
│   └── utils/             # 內容處理工具
└── ...
```

## 完整優化後的項目結構

```
amigo-helpcenter/
├── src/
│   ├── app/                          # Next.js 頁面
│   │   ├── (auth)/                   # 認證相關頁面組
│   │   │   ├── authentication/
│   │   │   └── login/
│   │   ├── (manual)/                 # 操作手冊頁面組
│   │   │   ├── quickstart/
│   │   │   ├── equipment/
│   │   │   ├── products/
│   │   │   ├── orders/
│   │   │   └── reports/
│   │   ├── (support)/                # 支援頁面組
│   │   │   ├── faq/
│   │   │   ├── troubleshooting/
│   │   │   └── contact/
│   │   ├── layout.tsx
│   │   ├── page.mdx
│   │   └── providers.tsx
│   ├── components/
│   │   ├── amigo/                    # AMIGO 特定組件
│   │   ├── search/                   # 搜索功能組件
│   │   ├── icons/                    # 圖標組件（分類組織）
│   │   ├── ui/                       # 基礎 UI 組件
│   │   │   ├── Button.tsx
│   │   │   ├── Code.tsx
│   │   │   ├── Prose.tsx
│   │   │   └── Tag.tsx
│   │   ├── layout/                   # 佈局組件
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   ├── Navigation.tsx
│   │   │   └── Layout.tsx
│   │   └── mdx.tsx
│   ├── content/                      # 內容管理
│   │   ├── manual/                   # 操作手冊內容
│   │   ├── templates/                # 內容模板
│   │   └── utils/                    # 內容處理工具
│   ├── lib/                          # 工具函數
│   │   ├── logger.ts
│   │   ├── utils.ts
│   │   └── constants.ts
│   ├── styles/                       # 樣式文件
│   │   ├── typography/               # 字體排版（分模塊）
│   │   └── tailwind.css
│   └── types/                        # 類型定義
│       ├── global.d.ts
│       ├── components.ts
│       └── content.ts
├── docs/                             # 文檔
│   ├── usermanual/                   # 原始操作手冊
│   ├── 項目結構分析.md
│   ├── 內容展示方案評估.md
│   └── 項目結構優化建議.md
├── scripts/                          # 執行腳本
│   ├── dev.sh
│   ├── build.sh
│   ├── start.sh
│   └── deploy.sh
├── logs/                             # 日誌文件
└── 配置文件...
```

## 實施計劃

### 第一階段：Search 組件重構
1. 創建 `src/components/search/` 目錄
2. 拆分 Search.tsx 為多個子組件
3. 更新導入路徑
4. 測試功能完整性

### 第二階段：Icons 目錄重組
1. 創建分類子目錄
2. 移動圖標文件到對應分類
3. 創建統一導出文件
4. 更新所有引用

### 第三階段：Typography 優化
1. 創建 `src/styles/typography/` 目錄
2. 拆分配置文件
3. 更新 tailwind.css 引用
4. 驗證樣式正確性

### 第四階段：新增 AMIGO 組件
1. 創建 `src/components/amigo/` 目錄
2. 開發 AMIGO 特定組件
3. 創建內容管理目錄
4. 建立類型定義

## 預期效果

### 代碼品質提升
- 所有文件符合行數限制
- 目錄組織更加清晰
- 組件職責更加單一
- 代碼可讀性提升

### 維護效率提升
- 快速定位相關代碼
- 便於新功能開發
- 降低修改影響範圍
- 提高測試覆蓋率

### 開發體驗改善
- 更好的 IDE 支援
- 更快的編譯速度
- 更清晰的依賴關係
- 更容易的代碼審查

## 風險評估

### 低風險
- Icons 目錄重組：僅影響導入路徑
- Typography 拆分：配置文件拆分，風險可控

### 中風險
- Search 組件重構：涉及複雜邏輯，需要充分測試

### 緩解措施
1. 分階段實施，每階段充分測試
2. 保留原始文件備份
3. 使用 Git 分支進行重構
4. 建立自動化測試

## 總結

本優化方案旨在提升 AMIGO 幫助中心項目的代碼品質和維護效率，通過合理的目錄組織和組件拆分，使項目結構更加清晰和易於維護。建議按階段實施，確保每個階段的穩定性後再進行下一階段。
